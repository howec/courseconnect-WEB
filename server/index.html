// example index.html... just a guideline for basic emit/on functionality for sockets

<!doctype html>
<html>
    <head>
        <script src='/socket.io/socket.io.js'></script>
        <script>
            //initiate socket
            var socket = io();

            //server sends a welcome message to client
            //client adds message to messages
            //client emits userID to server
            socket.on('welcome', function(data) {
                addMessage(data.message);

                //TODO: send userID over to server... userID should be generated from gmail oAuth
                socket.emit('clientUser', {userID: getUserID()});
            });

            //listens for list of users that SERVER compiles from *each* client instance
            socket.on('users', function(data) {
                addMessage(data.users);
            });



            //TODO: Implement gmail oAUTH
            //getUserID should find the associated name for each oAUTH instance...
            //userID MUST be unique per each client, since it is tied to gmail oAuth
            function getUserID(){


            }

            //TODO: need to modify... may need to modify the function entirely
            //currently addMessage lists the strings it receives
            //not sure how to get it to only display the relevant string (aka set of string-users)
            function addMessage(message) {
                var text = document.createTextNode(message),
                    el = document.createElement('li'),
                    messages = document.getElementById('messages');

                el.appendChild(text);
                messages.appendChild(el);
            }

            //not sure what this does
            socket.on('error', console.error.bind(console));
            socket.on('message', console.log.bind(console));
        </script>
    </head>
    //is this where messages are being displayed? I don't understand how it knows how to display messages from addMessages in here, if it is at all
    <body>
        <ul id='messages'></ul>
    </body>
</html>